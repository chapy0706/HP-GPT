/* =========================================================
   全体レイアウト・タイポグラフィ
   - ページ全体の基本スタイル
   ========================================================= */
body {
    font-family:
        "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro",
        "MS PMincho", "MS Mincho", serif;
    margin: 0;
    padding: 0;
    padding-bottom: 120px; /* フッター分の余白（高さに合わせて調整） */
    background: #f5f5f5;
    transition: background-color 1s;
    text-align: center;
}

header {
    padding: 20px;
    background: #ccc;
    position: relative;
}

/* ========== Mini shadcn-like 基本トークン & 汎用コンポーネント ========== */
:root {
  --u-radius-lg: 20px;
  --u-radius-full: 999px;
  --u-shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.18);
  --u-shadow-soft-sm: 0 8px 20px rgba(15, 23, 42, 0.16);

  --u-grad-green: linear-gradient(135deg, #16a34a, #22c55e);
  --u-grad-blue: linear-gradient(135deg, #2563eb, #38bdf8);
}

/* カード（shadcn の Card 的なもの） */
.u-card {
  border-radius: var(--u-radius-lg);
  background: #ffffff;
  box-shadow: var(--u-shadow-soft);
  border: 1px solid rgba(15, 23, 42, 0.06);
}

/* ガラス感カード */
.u-card-glass {
  border-radius: var(--u-radius-lg);
  background: rgba(248, 250, 252, 0.85);
  border: 1px solid rgba(148, 163, 184, 0.45);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: var(--u-shadow-soft);
}

/* 汎用ボタン */
.u-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border-radius: var(--u-radius-full);
  padding: 10px 18px;
  border: none;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    background 0.18s ease,
    opacity 0.18s ease;
}

/* 緑系プライマリボタン */
.u-btn-primary {
  background: var(--u-grad-green);
  color: #ffffff;
  box-shadow: var(--u-shadow-soft-sm);
}

.u-btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 16px 40px rgba(34, 197, 94, 0.35);
}

/* ゴーストボタン（枠だけ） */
.u-btn-ghost {
  background: transparent;
  color: #0f172a;
  border: 1px solid rgba(15, 23, 42, 0.18);
}

.u-btn-ghost:hover {
  background: rgba(15, 23, 42, 0.03);
}

/* デスクトップ時とモバイル時の表示テキスト切り替え */
.desktop-text {
    display: inline;
}

.mobile-text {
    display: none;
}

/* ハンバーガーメニューのボタン（モバイルのみ表示） */
.hamburger {
    display: none;
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
}

/* メインメニュー（PC時の横並びナビゲーション） */
.main-menu ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    gap: 15px;
    justify-content: center;
}

.main-menu a {
    text-decoration: none;
    color: #333;
    padding: 5px 10px;
    border-radius: 4px;
    transition: background-color 0.5s ease, color 0.5s ease;
}

.main-menu a:hover {
    background-color: #eee;
    color: #000;
}

.content-section {
    padding: 20px;
}

/* =========================================================
   料金表・サロン情報の装飾リスト
   ========================================================= */

.pricing-list {
    list-style: none;
    margin: 20px auto;
    padding: 1.5em 2.5em;
    max-width: 420px;
    background: linear-gradient(135deg, rgba(135, 206, 250, 0.2), rgba(255, 255, 255, 0.9));
    border: 2px solid skyblue;
    border-radius: 16px;
    box-shadow: 0 12px 24px rgba(135, 206, 250, 0.25);
    position: relative;
}

/* 料金枠の内側の点線枠 */
.pricing-list::after {
    content: "";
    position: absolute;
    inset: 12px;
    border: 1px dashed rgba(135, 206, 235, 0.5);
    border-radius: 12px;
    pointer-events: none;
}

.pricing-list li {
    position: relative;
    margin: 0;
    padding: 0.75em 0 0.75em 2.4em;
    line-height: 1.7;
    color: #1c3b4d;
    font-weight: 600;
    letter-spacing: 0.02em;
}

.pricing-list li + li {
    border-top: 1px solid rgba(135, 206, 235, 0.35);
}

/* 各項目の丸いマーカー */
.pricing-list li::before {
    content: "";
    position: absolute;
    left: 0.9em;
    top: 50%;
    transform: translateY(-50%);
    width: 0.65em;
    height: 0.65em;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #ffffff 0%, #87ceeb 60%, #1c75bc 100%);
    box-shadow: 0 0 6px rgba(135, 206, 235, 0.6);
}

/* サロンの特徴リスト */
.salon-list {
    list-style: none;
    margin: 30px auto;
    padding: 2.5em 3em;
    max-width: 520px;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(235, 224, 255, 0.85));
    border: 2px solid #d4af37;
    border-radius: 24px;
    box-shadow:
        0 18px 35px rgba(90, 64, 152, 0.25),
        inset 0 0 20px rgba(212, 175, 55, 0.25);
    position: relative;
    overflow: hidden;
}

/* サロンリスト背景の光の演出 */
.salon-list::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top right, rgba(255, 215, 0, 0.35), transparent 55%),
        radial-gradient(circle at bottom left, rgba(90, 64, 152, 0.25), transparent 55%);
    pointer-events: none;
}

.salon-list li {
    position: relative;
    padding: 1em 0 1em 2.8em;
    margin: 0;
    font-size: 1.05em;
    font-weight: 600;
    color: #3c2f53;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6);
    letter-spacing: 0.03em;
}

.salon-list li + li {
    border-top: 1px solid rgba(255, 255, 255, 0.6);
}

/* サロンリストのひし形マーカー */
.salon-list li::before {
    content: "";
    position: absolute;
    left: 1.4em;
    top: 50%;
    transform: translate(-50%, -50%) rotate(45deg);
    width: 0.75em;
    height: 0.75em;
    background: linear-gradient(135deg, #fff9db, #d4af37);
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.6);
}

/* =========================================================
   動画エリア
   ========================================================= */

.video-container {
    position: relative;
    width: 100%;
    max-width: 500px;
    margin: 20px auto;
    aspect-ratio: 16 / 9;
}

.video-container iframe {
    width: 100%;
    height: 100%;
}

/* =========================================================
   ギャラリー（画像シャッフル・拡大アニメなど）
   ========================================================= */

.gallery {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 20px;
    flex-wrap: wrap;
    perspective: 1000px;
}

/* 中央拡大表示時のギャラリー位置制御 */
.gallery.centered {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    max-width: 960px;
    flex-wrap: nowrap;
}

/* 個々の画像コンテナ（拡大・アニメ対象） */
.image-container {
    position: relative;
    overflow: hidden;
    width: 300px;
    aspect-ratio: 528 / 682;
    cursor: pointer;
    transform-style: preserve-3d;
    transform-origin: center center;
    will-change: transform;
}

.image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    backface-visibility: hidden;
    animation: slideIn 1s ease;
    transform-origin: center center;
    will-change: transform, opacity;
}

/* 画像が右側からスライドインするアニメーション */
@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* 拡大された状態（画像クリック時に付けるクラス） */
.expanded {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(2);
    z-index: 10;
    opacity: 1;
    animation: zoomIn 0.5s forwards;
    overflow: visible;
}

/* 拡大アニメーション */
@keyframes zoomIn {
    from {
        transform: translate(-50%, -50%) scale(1);
    }
    to {
        transform: translate(-50%, -50%) scale(2);
    }
}

@keyframes zoomInMobile {
    from {
        transform: translate(-50%, -50%) scale(1);
    }
    to {
        transform: translate(-50%, -50%) scale(2);
    }
}

/* 背景を暗くするためのクラス */
.fade-bg {
    background: rgba(128, 128, 128, 0.8);
}

/* 拡大時の詳細テキストエリア */
.details {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 20;
    margin: 0;
    padding: 10px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

/* 共通で使う非表示クラス */
.hidden {
    display: none;
}

/* 「詳しく見る」などのボタン */
.more-button {
    display: inline-block;
    margin-top: 20px;
    padding: 5px 10px;
    background: #007bff;
    color: #fff;
    text-decoration: none;
    border-radius: 4px;
    width: 40%;
    font-size: 10px;
    white-space: nowrap;
}

/* =========================================================
   汎用ボタン（CTA / モーダル内リンク共通化）
   ========================================================= */

.primary-button,
.modal-actions a {
    width: 100%;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    background: #3a7bd5;
    color: #fff;
    border: none;
    border-radius: 999px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
    box-sizing: border-box;
    min-width: 180px;
}

.primary-button:hover,
.modal-actions a:hover {
    background: #2f62aa;
    box-shadow: 0 8px 20px rgba(58, 123, 213, 0.3);
    transform: translateY(-2px);
}

#start-journey-button {
    margin-top: 16px;
    width: 180px;
}

/* =========================================================
   モーダル全体のレイアウト
   - LINE風チャットを含む全画面オーバーレイ
   ========================================================= */

.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh; /* フォールバック用：古いブラウザ向け */
    background: rgba(128, 128, 128, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    z-index: 250;
}

/* ビューポートの「実際に見える高さ」を使う（スマホでの隠れ防止） */
@supports (height: 100dvh) {
    .modal {
        height: 100dvh;
    }
}

/* モーダルを閉じている時 */
.modal.hidden {
    display: none;
}

/* モーダル内部のカード本体 */
.modal-content {
    background: #fff;
    border-radius: 28px;
    padding: 0;
    max-width: 520px;
    width: min(100%, 520px);
    max-height: calc(100vh - 80px);
    box-shadow: 0 24px 60px rgba(0, 0, 0, 0.25);
    position: relative;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    box-sizing: border-box;
    margin-inline: auto;
}

/* モーダル内テキストの基本スタイル（チャット本文にも適用） */
.modal-text {
    font-size: 16px;
    line-height: 1.8;
    text-align: left;
}

/* モーダル内のボタン群のレイアウト */
.modal-actions {
    display: flex;
    flex: 1 1 auto;
    min-width: 0;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: flex-end;
    align-items: center;
    margin-left: auto;
}

/* 汎用ボタン幅の上書き（アクションエリアでは自動幅） */
.modal-actions button,
.modal-actions a {
    width: auto;
}

/* =========================================================
   チャット入力エリア（LINE風の最下部）
   閉じる：左／次へ：右
   ========================================================= */

.chat-input-area {
    padding: 16px 20px;
    background: #f5f7fa;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;          /* ← ここを nowrap にして折り返さない */
    align-items: center;
    justify-content: flex-start;
    gap: 8px;
}

/* 入力エリア内のボタン共通（サイズを取りすぎないように） */
.chat-input-area .primary-button,
.chat-input-area .modal-close-button {
    min-width: auto;
    white-space: nowrap;
}

/* 「閉じる」ボタン：左側に固定 */
.modal-close-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 18px;
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    background: #ffffff;
    color: #1f2933;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
    order: -1;                 /* ← これで左に来る（HTML上は後ろでもOK） */
}

.modal-close-button:hover,
.modal-close-button:focus-visible {
    background: #e6ebf0;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
    outline: none;
}

.modal-close-button:focus-visible {
    box-shadow: 0 0 0 3px rgba(6, 199, 85, 0.35);
}

/* 「次へ」などのボタンが入るコンテナ：右側に寄せる */
.modal-actions {
    display: flex;
    flex: 0 1 auto;            /* ← 100% 幅を取らないようにする */
    min-width: 0;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: flex-end;
    align-items: center;
    margin-left: auto;         /* ← 右端まで押し出す */
}

.modal-actions .chat-action-button {
    width: auto;               /* 必要なら可変幅にしておく */
}


/* モーダルが開いている時に背景ページをスクロールさせない */
body.modal-open {
    overflow: hidden;
}

/* =========================================================
   LINE風チャットカード周りのスタイル
   ========================================================= */

/* チャット用のモーダルカード全体 */
.chat-modal {
    background: #f4f6f8;
    border: 12px solid #1cb24a;
}

/* チャットヘッダー（店舗名＋ステータス） */
.chat-header {
    /* ヘッダー高さを変数にして、本文側の余白計算に利用する */
    --chat-header-height: 72px;
    min-height: var(--chat-header-height);
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 20px 24px;
    background: linear-gradient(135deg, #0bb648, #06a53d);
    color: #fff;
}

/* 店舗名の頭文字用丸アイコン */
.chat-header-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.25);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 20px;
    text-transform: uppercase;
}

/* ヘッダー内の文字情報（店名＋ステータス） */
.chat-header-info {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.chat-header-title {
    font-size: 18px;
    font-weight: 700;
}

.chat-header-status {
    font-size: 12px;
    opacity: 0.85;
}

/* チャット本文領域
   - ヘッダーの高さ分だけ上に余白をとることで
     「ヘッダーとメッセージがかぶる」のを防ぐ */
.chat-body {
    flex: 1;
    background: #e7edf3;
    padding: calc(var(--chat-header-height, 72px) + 16px) 20px 24px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* メッセージ全体の横位置（左寄せ・右寄せ） */
.chat-message {
    display: flex;
    width: 100%;
}

.chat-message.received {
    justify-content: flex-start;
}

.chat-message.sent {
    justify-content: flex-end;
}

/* 吹き出し（メッセージバブル） */
.chat-bubble {
    max-width: min(80%, 360px);
    padding: 12px 16px;
    border-radius: 22px;
    font-size: 15px;
    line-height: 1.7;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
    word-break: break-word;
    background: #fff;
    border: 1px solid rgba(0, 0, 0, 0.04);
}

/* CTAボタンを含んだ特別なバブル */
.chat-bubble.action-bubble {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: stretch;
}

.action-bubble-text {
    font-size: 15px;
    line-height: 1.7;
}

/* バブル内のボタン群 */
.bubble-actions {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
    width: 100%;
}

.bubble-actions .chat-action-button {
    width: min(260px, 100%);
}

/* 送信側（ユーザー側）の吹き出し色 */
.chat-message.sent .chat-bubble {
    background: #c7f5cb;
    border-color: rgba(6, 199, 85, 0.25);
    color: #043517;
}

/* 受信側（店舗側）の吹き出し色 */
.chat-message.received .chat-bubble {
    background: #fff;
    color: #1f2933;
}

/* タイピングアニメーション用 */
.typing-bubble {
    position: relative;
}

.typing-chunk {
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 1s ease, transform 1s ease;
    white-space: pre-wrap;
    word-break: break-word;
}

.typing-chunk.visible {
    opacity: 1;
    transform: translateY(0);
}

/* モーダルの閉じるボタン */
.modal-close-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 18px;
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    background: #ffffff;
    color: #1f2933;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
    order: -1;
}

.modal-close-button:hover,
.modal-close-button:focus-visible {
    background: #e6ebf0;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
    outline: none;
}

.modal-close-button:focus-visible {
    box-shadow: 0 0 0 3px rgba(6, 199, 85, 0.35);
}

/* チャット内のアクションボタン（LINE風の緑ボタン） */
.chat-action-button {
    background: #06c755;
    color: #fff;
    border-radius: 999px;
    padding: 10px 18px;
    min-width: auto;
    font-size: 14px;
    box-shadow: 0 8px 20px rgba(6, 199, 85, 0.35);
}

.chat-action-button:hover {
    background: #05a647;
    box-shadow: 0 10px 24px rgba(6, 199, 85, 0.45);
}

/* LINE フォロー用QRコードなど */
.found-u-logo {
    width: min(220px, 60vw);
    height: auto;
    border-radius: 8px;
}

.line-followup-bubble {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
}

.line-followup-button {
    width: min(260px, 100%);
    text-align: center;
}

.line-followup-qr {
    width: min(220px, 60vw);
    height: auto;
    border-radius: 8px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
}

.line-followup-text {
    font-size: 14px;
    line-height: 1.8;
    text-align: left;
    width: 100%;
}

/* =========================================================
   新規アニメーション（フェード・暗転など）
   ========================================================= */

.fade-out-other {
    animation: fadeOut 0.5s forwards;
}

@keyframes fadeOut {
    to {
        opacity: 0;
    }
}

.dim-image {
    opacity: 1;
}

.dim-image img {
    animation: dimImage 3s forwards;
}

@keyframes dimImage {
    from {
        opacity: 1;
    }
    to {
        opacity: 0.3;
    }
}

.fade-in-text {
    animation: fadeInText 3s forwards;
}

.fade-in-btn {
    animation: fadeInText 3s forwards;
}

.fade-up-out {
    animation: fadeUpOut 1s forwards;
}

.fade-in-quick {
    animation: fadeInQuick 1s forwards;
}

@keyframes fadeUpOut {
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

@keyframes fadeInQuick {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeInText {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* 小さな説明文／注意文 */
.description {
    font-size: 10px;
    font-weight: bold;
    text-align: center;
    word-break: break-word;
    overflow-wrap: anywhere;
}

.autonomic-note {
    font-size: 10px;
    font-weight: bold;
    margin-top: 10px;
    text-align: center;
    word-break: break-word;
    overflow-wrap: anywhere;
}

/* =========================================================
   最初のイントロオーバーレイ（白背景にテキスト）
   ========================================================= */

#intro-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgb(135, 135, 135);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 1200;
}

/* 実際の表示領域に合わせた高さ（スマホ対策） */
@supports (height: 100dvh) {
    #intro-overlay {
        height: 100dvh;
    }
}

#intro-overlay p {
    margin: 10px 0;
    color: #fff;
    font-size: 20px;
    font-weight: bold;
    position: relative;
    z-index: 1;
}

#intro-text1,
#intro-text2,
#click-tip,
#skip-button {
    opacity: 0;
}

/* バナー部分（上部のキャッチコピー） */
#intro-banner {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    color: #fff;
    font-weight: bold;
    text-align: center;
    margin-bottom: 8px;
    opacity: 1;
    position: relative;
    z-index: 1;
}

.intro-banner-line {
    margin: 0;
    font-size: 18px;
    opacity: 1;
    color: #fff;
}

#click-tip {
    font-size: 16px;
}

#skip-button {
    font-size: 10px;
    cursor: pointer;
    text-decoration: underline;
    pointer-events: none;
}

/* 点滅するテキスト用 */
.blink {
    animation: blinkText 2.5s ease-in-out infinite;
}

#click-tip.fade-out-tip {
    animation: fadeOutTip 1s forwards;
}

@keyframes blinkText {
    0% {
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0;
    }
}

@keyframes fadeOutTip {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

/* イントロカードの表示制御 */
#intro-card {
    opacity: 0;
    margin-top: 20px;
    width: 225px;
    pointer-events: none;
}

#intro-card.show-card {
    animation: fadeInCard 2s forwards;
    pointer-events: auto;
}

@keyframes fadeInCard {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* テキストのフェードイン／アウト */
.show-text {
    animation: fadeInSlow 3s forwards;
}

.fade-out-overlay {
    animation: fadeOutSlow 3s forwards;
}

.fade-out-text {
    animation: fadeOutSlow 2s forwards;
}

.fade-out-quick {
    animation: fadeOutSlow 0.5s forwards;
}

@keyframes fadeInSlow {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeOutSlow {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

/* =========================================================
   ページ遷移用のホワイトアウト／カラフラッシュ
   ========================================================= */

#white-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    opacity: 0;
    pointer-events: none;
    z-index: 999;
}

#transition-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    pointer-events: none;
    z-index: 1000;
}

/* カラーサークル（三原色での演出） */
.color-circle {
    position: absolute;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    mix-blend-mode: screen;
    opacity: 0;
}

.color-circle.red {
    background: red;
}

.color-circle.green {
    background: green;
}

.color-circle.blue {
    background: blue;
}

/* =========================================================
   レスポンシブ対応（主にスマホ用調整）
   ========================================================= */

@media (max-width: 600px) {
    /* モーダル全体の余白調整＋安全領域考慮
       - 上: ステータスバー・ノッチ分を余白に足す
       - 下: ホームバー分も少し余裕を持たせる */
    .modal {
        align-items: center;
        padding: calc(24px + env(safe-area-inset-top, 0px))
                 12px
                 calc(32px + env(safe-area-inset-bottom, 0px));
        box-sizing: border-box;
    }

    /* スマホ時のモーダルカードサイズ調整
       - 画面幅いっぱい
       - 縦は実際の高さからマージンを引いた値に制限 */
    .modal-content {
        width: 100%;
        max-width: 480px;
        max-height: calc(100dvh - 56px);
        padding: 28px 20px;
        border-radius: 20px;
        margin-inline: auto;
    }

    .modal-text {
        font-size: 14px;
        line-height: 1.7;
    }

    .modal-actions {
        width: 100%;
        gap: 12px;
        justify-content: center;
        text-align: center;
    }

    .modal-actions button,
    .modal-actions a {
        font-size: 15px;
        margin-left: auto;
        margin-right: auto;
    }

    /* ハンバーガーメニューの表示と位置（モバイル専用） */
    .hamburger {
        display: block;
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        z-index: 1001;
    }

    .hamburger.hidden {
        display: none;
    }

    /* モバイル版サイドスライドメニュー */
    .main-menu {
        position: fixed;
        top: 0;
        right: 0;
        height: 100vh;
        width: min(320px, 33.333vw);
        background: rgba(255, 255, 255, 0.98);
        padding: 96px 24px 32px;
        box-shadow: -12px 0 24px rgba(0, 0, 0, 0.15);
        border-radius: 0;
        z-index: 1000;
        transform: translateX(100%);
        transition: transform 0.35s ease;
        display: flex;
        justify-content: flex-start;
        align-items: flex-start;
        pointer-events: none;
    }

    .main-menu.open {
        transform: translateX(0);
        pointer-events: auto;
    }

    #menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 900;
    }

    .main-menu ul {
        flex-direction: column;
        gap: 16px;
        justify-content: flex-start;
        align-items: stretch;
        width: 100%;
    }

    .main-menu a {
        display: block;
        width: 100%;
        text-align: left;
        font-size: 16px;
    }

    /* ギャラリーのモバイルレイアウト */
    .gallery {
        flex-direction: row;
        justify-content: center;
        gap: 5px;
        margin: 20px auto;
        width: 100%;
    }

    .gallery.centered {
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .desktop-text {
        display: none;
    }

    .mobile-text {
        display: inline;
    }

    .image-container {
        width: 32%;
        aspect-ratio: 528 / 682;
        max-width: none;
    }

    .expanded {
        transform: translate(-50%, -50%) scale(2);
        animation: zoomInMobile 0.5s forwards;
        max-width: 100vw;
        max-height: 100vh;
        overflow: visible;
    }

    .details {
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        transform: none;
        padding: 10px;
        box-sizing: border-box;
        justify-content: flex-start;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .description {
        font-size: 7px;
        text-align: center;
        word-break: break-word;
    }

    .autonomic-note {
        font-size: 7px;
        font-weight: bold;
        text-align: center;
        word-break: break-word;
    }

    .more-button {
        font-size: 7px;
        width: auto;
        padding: 3px 6px;
    }

    /* イントロカードのサイズをモバイル用に縮小 */
    #intro-card {
        width: 24%;
    }
}

/* =========================================
   モバイル時の LINE 風チャットレイアウト調整
   - journey-modal だけ「上からフル画面」にする
   ========================================= */
@media (max-width: 600px) {
  /* モーダル全体を「中央」ではなく「上から」伸ばす */
  #journey-modal.modal {
    align-items: stretch;  /* ← ここが一番重要 */
    justify-content: flex-start;
    padding: env(safe-area-inset-top, 0px)
             0
             env(safe-area-inset-bottom, 0px);
  }

  /* チャット用カードを画面いっぱいにフィットさせる */
  #journey-modal .modal-content.chat-modal {
    height: 100dvh;        /* 画面の実表示領域の高さ */
    max-height: 100dvh;
    border-radius: 0;      /* アプリっぽくフルスクリーンにする */
    padding: 0;            /* 余白は header / body / input に任せる */
  }

  /* ヘッダー部分はそのまま上に固定されて見える */
  #journey-modal .chat-header {
    border-radius: 0;
  }

  /* 本文は余った領域を全部使ってスクロール */
  #journey-modal .chat-body {
    flex: 1;
    /* ここは前に入れた padding-top のままでOK
       必要なら少し小さくするくらい */
    overflow-y: auto;
  }

  /* 入力エリアは下部に固定されて見える（現状どおり） */
  #journey-modal .chat-input-area {
    flex-shrink: 0;
  }
}

/* =========================================================
   U ロゴのグリッド表示
   ========================================================= */

/* U ロゴ全体を中央寄せするコンテナ */
.logo-u-section {
  display: flex;
  justify-content: center;
  margin-bottom: 24px;
}

/* U ロゴを構成する10x10グリッド */
.logo-u-grid {
  --rows: 10;
  --cols: 10;
  display: grid;
  grid-template-columns: repeat(var(--cols), minmax(20px, 1fr));
  gap: 6px;
  max-width: 480px;
  aspect-ratio: 1 / 1;
  padding: 12px;
  border-radius: 24px;
  background: #ffffff;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
}

/* ロゴセル（丸いマス） */
.logo-cell {
  display: flex;
  align-items: center;
  justify-content: center;
  background: #ffffff;
  border-radius: 999px;
  overflow: hidden;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease;
}

.logo-cell img {
  max-width: 100%;
  max-height: 100%;
}

/* ホバー時の立体感 */
.logo-cell:hover {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.18);
  background-color: #fdfdfd;
}

/* 何も置かないマス（空セル）は装飾なし */
.logo-cell--empty {
  background: transparent;
  cursor: default;
  box-shadow: none;
}

/* ロゴ詳細表示エリアのカード */
.logo-detail-section {
  background: #fff;
  border-radius: 8px;
  max-width: 480px;
  margin: 0 auto;
  padding: 16px 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.logo-detail-placeholder {
  color: #777;
}

/* 詳細表示コンテンツの縦並びレイアウト */
.logo-detail-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 16px;
}

.logo-detail-content.is-hidden {
  display: none;
}

.logo-detail-thumbnail-wrapper {
  width: 96px;
  height: 96px;
  background: #f0f0f0;
  border-radius: 8px;
  overflow: hidden;
}

.logo-detail-thumbnail {
  max-width: 100%;
  max-height: 100%;
}

.logo-detail-meta dt {
  font-weight: bold;
}

.logo-detail-row dt,
.logo-detail-row dd {
  margin: 0;
  padding: 0;
  text-align: center;
}

/* ============================
   LINE風チャットポップアップをリッチ化
   ============================ */

/* 外枠カードを強めに（丸み＋ガラス＋影） */
.modal-content.chat-modal {
    border-radius: 24px;
    background: rgba(248, 250, 252, 0.92);
    border: 1px solid rgba(148, 163, 184, 0.5);
    box-shadow:
        0 24px 60px rgba(15, 23, 42, 0.35),
        0 0 0 1px rgba(15, 23, 42, 0.04);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    overflow: hidden;
}
/* =========================================================
   フッター（3段構成）
   - 上：SNSリンク (Instagram / YouTube)
   - 下：ナビ（TOP / 料金 / …）
   ========================================================= */

.site-footer {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  background: #ffffff;
  border-top: 1px solid #e5e7eb;
  box-shadow: 0 -4px 16px rgba(15, 23, 42, 0.12);
  z-index: 150;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue",
    Arial, sans-serif;
}

.footer-inner {
  max-width: 1100px;
  margin: 0 auto;
  padding: 6px 12px 8px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* 上段：SNS */
.footer-sns-row {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 16px;
  font-size: 11px;
}

.footer-sns-row a {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  text-decoration: none;
  color: #4b5563;
}

.footer-sns-row a i {
  font-size: 16px;
}

/* 下段：ナビ */
.footer-nav-row ul {
  list-style: none;
  margin: 0;
  padding: 4px 0 2px;
  border-top: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.footer-nav-row li {
  flex: 1 1 0;
  text-align: center;
}

.footer-nav-row a {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  text-decoration: none;
  color: #374151;
  font-size: 11px;
  padding: 4px 2px;
}

.footer-nav-row a:hover {
  background: rgba(209, 250, 229, 0.85);
  border-radius: 999px;
}

/* ナビ内のアイコン（スマホ主体） */
.footer-icon {
  font-size: 17px;
}

/* SNSのラベル（テキスト） */
.sns-label {
  font-size: 11px;
}

/* -----------------------
   PC レイアウト調整
   ----------------------- */
@media (min-width: 769px) {
  /* PCではSNSを中央寄せに変更 */
  .footer-sns-row {
    justify-content: center;
    gap: 32px; /* ← これを追加 or 値を好みで調整（32〜48 がおすすめ） */
  }

  /* PCではナビは文字主体、アイコンは隠す */
  .footer-icon {
    display: none;
  }

  .footer-nav-row a {
    flex-direction: row;
    gap: 8px;
    font-size: 13px;
  }
}

/* 下段：店舗情報（PC用） */
.footer-info-row {
  border-top: 1px solid #e5e7eb;
  margin-top: 4px;
  padding-top: 6px;
  padding-bottom: 2px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  font-size: 11px;
  color: #6b7280;
}

.footer-info-main {
  font-weight: 600;
  text-align: center;
}

.footer-info-detail {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px 16px;
  text-align: center;
}

.footer-info-detail a {
  color: inherit;
  text-decoration: underline;
  text-decoration-thickness: 0.08em;
  text-underline-offset: 2px;
}

/* -----------------------
   スマホレイアウト調整
   ----------------------- */
@media (max-width: 768px) {
  .footer-inner {
    padding-bottom: calc(8px + env(safe-area-inset-bottom, 0px));
  }

  /* スマホではSNSは中央寄せ、ラベルは隠してアイコンだけ */
  .footer-sns-row {
    justify-content: center;
    font-size: 10px;
    gap: 20px;
  }

  .sns-label {
    display: none;
  }

  .footer-nav-row a {
    font-size: 10px;
  }

  .footer-icon {
    font-size: 18px;
  }
  
  .footer-info-row {
    display: none;
  }
}

/* =========================================================
   - TOP画面　雪レイヤーを追加
   ========================================================= */
#top {
  position: relative;
  overflow: hidden;
}

.top-snow-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* 背面に置く。必要なら -1 でもOK */
}

/* 雪の粒 */
.snowflake {
  position: absolute;
  top: -10px;
  left: var(--flake-left);
  width: var(--flake-size);
  height: var(--flake-size);
  border-radius: 999px;
  background: rgba(112, 108, 108, 0.7);
  opacity: 0.6;
  filter: blur(0.5px);
  animation-name: snow-fall;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-duration: var(--flake-duration);
  animation-delay: var(--flake-delay);
}

/* 下方向＋少し斜めに流れる */
@keyframes snow-fall {
  0% {
    transform: translate3d(0, -5vh, 0);
  }
  100% {
    transform: translate3d(5vw, 110vh, 0);
  }
}

/* feel 下部の動画2本 */
.feel-videos {
  margin: 28px auto 40px;
  max-width: 1100px;
  padding: 0 16px;
}

.video-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  align-items: start;
}

.video-card {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 12px;
}

.video-embed {
  position: relative;
  width: 100%;
  padding-top: 56.25%; /* 16:9 */
  border-radius: 12px;
  overflow: hidden;
}

.video-embed iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.video-caption {
  margin: 10px 4px 0;
  font-size: 12px;
  color: #6b7280;
  text-align: left;
}

@media (max-width: 768px) {
  .video-grid {
    grid-template-columns: 1fr;
  }
}
